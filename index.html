<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GULEY</title>
    <style>
        body {
            background-color: #34495e;
            color: #ecf0f1;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        h1 {
            margin: 0 0 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 2rem;
            text-align: center;
        }

        p {
            text-align: center;
            margin-bottom: 30px;
            max-width: 600px;
        }

        .game-container {
            display: flex;
            align-items: flex-start;
            gap: 40px;
            max-width: 100%;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }
            
            .game-container {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }
        }

        .figure-container {
            fill: transparent;
            stroke: #ecf0f1;
            stroke-width: 4px;
            stroke-linecap: round;
            flex-shrink: 0;
        }

        @media (max-width: 480px) {
            .figure-container {
                width: 200px;
                height: 190px;
            }
        }

        .figure-part {
            visibility: hidden;
        }

        .word-display {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            min-height: 50px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .letter {
            border-bottom: 3px solid #f1c40f;
            display: inline-flex;
            font-size: 30px;
            align-items: center;
            justify-content: center;
            margin: 0 3px;
            height: 50px;
            width: 30px;
            text-transform: uppercase;
        }
        
        .letter.space {
            border-bottom: none;
        }


        @media (max-width: 480px) {
            .letter {
                font-size: 24px;
                height: 40px;
                width: 25px;
                border-bottom: 2px solid #f1c40f;
            }
        }
        
        .game-info {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 600px;
        }
        
        .keyboard {
            margin-top: 30px;
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            width: 100%;
            max-width: 500px;
        }

        @media (max-width: 600px) {
            .keyboard {
                grid-template-columns: repeat(6, 1fr);
                gap: 6px;
            }
        }

        @media (max-width: 480px) {
            .keyboard {
                grid-template-columns: repeat(5, 1fr);
                gap: 5px;
                max-width: 350px;
            }
        }

        .key {
            background-color: #2c3e50;
            border: 2px solid #95a5a6;
            border-radius: 5px;
            color: #ecf0f1;
            font-size: 1.2rem;
            font-weight: bold;
            padding: 10px;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
            text-transform: uppercase;
        }

        @media (max-width: 600px) {
            .key {
                font-size: 1rem;
                padding: 8px;
            }
        }

        @media (max-width: 480px) {
            .key {
                font-size: 0.9rem;
                padding: 6px;
            }
        }

        .key:hover:not(:disabled) {
            background-color: #3498db;
            transform: scale(1.1);
        }

        .key:active:not(:disabled) {
            transform: scale(0.95);
        }

        .key:disabled {
            background-color: #7f8c8d;
            cursor: not-allowed;
            opacity: 0.5;
        }

        .popup-container {
            background-color: rgba(0, 0, 0, 0.5);
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .popup-container.show {
            display: flex;
        }

        .popup {
            background: #2c3e50;
            border-radius: 10px;
            box-shadow: 0 15px 25px rgba(0,0,0,0.4);
            padding: 30px 40px;
            text-align: center;
            border: 2px solid #f1c40f;
            max-width: 90%;
            width: 400px;
        }

        @media (max-width: 480px) {
            .popup {
                padding: 20px 25px;
                width: 90%;
            }
        }

        .popup h2 {
            margin-top: 0;
            font-size: 1.8rem;
        }

        .popup h3 {
            font-size: 1.2rem;
            margin: 10px 0;
        }

        @media (max-width: 480px) {
            .popup h2 {
                font-size: 1.4rem;
            }
            
            .popup h3 {
                font-size: 1rem;
            }
        }

        .popup button {
            cursor: pointer;
            background-color: #f1c40f;
            color: #2c3e50;
            border: 0;
            margin-top: 20px;
            padding: 12px 20px;
            font-size: 16px;
            border-radius: 5px;
            font-weight: bold;
            transition: opacity 0.2s;
        }

        .popup button:hover {
            opacity: 0.9;
        }

        .popup button:active {
            transform: scale(0.95);
        }
    </style>
</head>
<body>

<h1>Under Construction</h1>
<p>It may never be completed. However, there are some things you can enjoy below. <span style="font-style: italic; opacity: 0.7; font-size: 0.9em;">(Guess Countries)</span></p>

    <div class="game-container">
        <svg height="250" width="200" class="figure-container">
            <line x1="60" y1="20" x2="140" y2="20" />
            <line x1="140" y1="20" x2="140" y2="50" />
            <line x1="60" y1="20" x2="60" y2="230" />
            <line x1="20" y1="230" x2="100" y2="230" />

            <circle cx="140" cy="70" r="20" class="figure-part" />
            <line x1="140" y1="90" x2="140" y2="150" class="figure-part" />
            <line x1="140" y1="120" x2="120" y2="100" class="figure-part" />
            <line x1="140" y1="120" x2="160" y2="100" class="figure-part" />
            <line x1="140" y1="150" x2="120" y2="180" class="figure-part" />
            <line x1="140" y1="150" x2="160" y2="180" class="figure-part" />
        </svg>

        <div class="game-info">
            <div class="word-display" id="word-display"></div>
            <div class="keyboard" id="keyboard"></div>
        </div>
    </div>

    <div class="popup-container" id="popup-container">
        <div class="popup">
            <h2 id="final-message"></h2>
            <h3 id="revealed-word"></h3>
            <button id="play-again">Play Again</button>
        </div>
    </div>

    <script>
        // DOM
        const wordDisplay = document.getElementById('word-display');
        const keyboardDiv = document.getElementById('keyboard');
        const figureParts = document.querySelectorAll('.figure-part');
        const popupContainer = document.getElementById('popup-container');
        const finalMessage = document.getElementById('final-message');
        const revealedWord = document.getElementById('revealed-word');
        const playAgainBtn = document.getElementById('play-again');

        // Words
        const words = [
            'Afghanistan', 'Albania', 'Algeria', 'Andorra', 'Angola', 'Antigua and Barbuda', 'Argentina', 'Armenia', 'Australia', 'Austria',
            'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium', 'Belize', 'Benin', 'Bhutan',
            'Bolivia', 'Bosnia and Herzegovina', 'Botswana', 'Brazil', 'Brunei', 'Bulgaria', 'Burkina Faso', 'Burundi', 'Cabo Verde', 'Cambodia',
            'Cameroon', 'Canada', 'Central African Republic', 'Chad', 'Chile', 'China', 'Colombia', 'Comoros', 'Congo',
            'Costa Rica', 'Cote d\'Ivoire', 'Croatia', 'Cuba', 'Cyprus', 'Czechia', 'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic',
            'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Eswatini', 'Ethiopia', 'Fiji', 'Finland',
            'France', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Greece', 'Grenada', 'Guatemala', 'Guinea',
            'Guinea-Bissau', 'Guyana', 'Haiti', 'Honduras', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran', 'Iraq',
            'Ireland', 'Israel', 'Italy', 'Jamaica', 'Japan', 'Jordan', 'Kazakhstan', 'Kenya', 'Kiribati', 'Kosovo',
            'Kuwait', 'Kyrgyzstan', 'Laos', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Liechtenstein', 'Lithuania',
            'Luxembourg', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands', 'Mauritania', 'Mauritius',
            'Mexico', 'Micronesia', 'Moldova', 'Monaco', 'Mongolia', 'Montenegro', 'Morocco', 'Mozambique', 'Myanmar', 'Namibia',
            'Nauru', 'Nepal', 'Netherlands', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'North Korea', 'North Macedonia', 'Norway',
            'Oman', 'Pakistan', 'Palau', 'Palestine', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Poland',
            'Portugal', 'Qatar', 'Romania', 'Russia', 'Rwanda', 'Saint Kitts and Nevis', 'Saint Lucia', 'Saint Vincent and the Grenadines', 'Samoa', 'San Marino',
            'Sao Tome and Principe', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone', 'Singapore', 'Slovakia', 'Slovenia', 'Solomon Islands',
            'Somalia', 'South Africa', 'South Korea', 'South Sudan', 'Spain', 'Sri Lanka', 'Sudan', 'Suriname', 'Sweden', 'Switzerland',
            'Syria', 'Taiwan', 'Tajikistan', 'Tanzania', 'Thailand', 'Timor-Leste', 'Togo', 'Tonga', 'Trinidad and Tobago', 'Tunisia',
            'Turkey', 'Turkmenistan', 'Tuvalu', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom', 'United States of America', 'Uruguay', 'Uzbekistan',
            'Vanuatu', 'Vatican City', 'Venezuela', 'Vietnam', 'Yemen', 'Zambia', 'Zimbabwe'
        ];
        let selectedWord = '';
        const correctLetters = [];
        const wrongLetters = [];

        // Start Function
        function startGame() {
            selectedWord = words[Math.floor(Math.random() * words.length)];
            correctLetters.length = 0;
            wrongLetters.length = 0;
            displayWord();
            updateFigure();
            createKeyboard();
            popupContainer.classList.remove('show');
        }

        function displayWord() {
            wordDisplay.innerHTML = `
                ${selectedWord
                    .split('')
                    .map(letter => `
                        <span class="letter ${!letter.match(/[a-zA-Z]/) ? 'space' : ''}">
                            ${correctLetters.includes(letter.toLowerCase()) || !letter.match(/[a-zA-Z]/) ? letter : ''}
                        </span>
                    `).join('')}
            `;

            const innerWord = wordDisplay.innerText.replace(/\s/g, '');
			if (innerWord.replace(/[^a-zA-Z]/g, '').toLowerCase() === selectedWord.replace(/[^a-zA-Z]/g, '').toLowerCase()) {
                 setTimeout(() => {
                    finalMessage.innerText = 'Congratulations! You won! 😃';
                    revealedWord.innerText = `The word was: ${selectedWord}`;
                    popupContainer.classList.add('show');
                }, 300);
            }
        }
        
        function updateFigure() {
            const mistakes = wrongLetters.length;
            figureParts.forEach((part, index) => {
                if (index < mistakes) {
                    part.style.visibility = 'visible';
                } else {
                    part.style.visibility = 'hidden';
                }
            });

            if (mistakes === figureParts.length) {
                setTimeout(() => {
                    finalMessage.innerText = 'Unfortunately you lost. 😕';
                    revealedWord.innerText = `...the word was: ${selectedWord}`;
                    popupContainer.classList.add('show');
                }, 300);
            }
        }

        function createKeyboard() {
            keyboardDiv.innerHTML = '';
            'abcdefghijklmnopqrstuvwxyz'.split('').forEach(letter => {
                const button = document.createElement('button');
                button.innerText = letter;
                button.className = 'key';
                button.addEventListener('click', () => handleGuess(letter, button));
                keyboardDiv.appendChild(button);
            });
        }
        
        function handleGuess(letter, button) {
            if (selectedWord.toLowerCase().includes(letter)) {
                if (!correctLetters.includes(letter)) {
                    correctLetters.push(letter);
                    displayWord();
                }
            } else {
                if (!wrongLetters.includes(letter)) {
                    wrongLetters.push(letter);
                    updateFigure();
                }
            }
            button.disabled = true;
        }
        
        playAgainBtn.addEventListener('click', startGame);
        startGame();

    </script>
</body>
</html>